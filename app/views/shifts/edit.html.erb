<div class="md:w-1/3 mx-auto">
  <div class="flex text-primary text-2xl font-bold">
    <h2 class="mb-4 mx-auto"><%= @date.year %>/<%= @date.month %> のシフト申請</h2>
  </div>

  <%= form_with(url: shifts_path, method: :put) do |f| %>
    <table class="table table-compact w-full text-center">
      <thead>
        <tr>
          <th>Date</th>
          <th>Start</th>
          <th>Finish</th>
          <th>Rest(min)</th>
        </tr>
      </thead>

        <% (@date.all_month).each_with_index do |date, i|  %>
        <tbody>
          <tr class="<%= 'active' if i % 2 == 0 %>">
            <th><%= l date, format: :short_with_day %></th>
            <th>
              <%= f.time_select "shifts[#{i + 1}][start_at]", { minute_step: 30 }, { class: "border"} %>
            </th>
            <th>
              <%= f.time_select "shifts[#{i + 1}][finish_at]", { minute_step: 30 }, { class: "border" } %>
            </th>
            <th>
              <%= f.select "shifts[#{i + 1}][break_time]", (0..90).step(10), {}, { class: "input input-xs input-bordered w-20" } %>
            </th>
          </tr>
        </tbody>
        <% end %>
    </table>

    <div class="flex py-4">
      <%= link_to "← back", :back, class: "btn btn-sm px-8" %>
      <%= f.submit "Submit", class: "btn btn-sm px-8 btn-primary ml-auto" %>
    </div>
  <% end %>

</div>
